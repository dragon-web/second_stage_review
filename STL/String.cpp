#include <iostream>
#include <assert.h>
#include <string.h>

using namespace std;
/*
class String
{
    public:
        String(const char* str = "")
        {
            if(str == nullptr)
            {
                str = "";
            }
            _str = new char[strlen(str) + 1]; //预留\0的空间
            strcpy(_str,str);
        }
        String (const String& s)
        {
            _str = s._str;
        }
        String& operator= (String &str)
        {
            _str = str._str;
            return *this;
        }
        ~String()
        {
            if(_str)
            {
                delete[] _str;
                _str = NULL;
            }
        }
       friend ostream& operator<<(ostream& out,String &s)
        {
            out << s._str;
            return out;
        }
       friend istream& operator >>(istream &in,String& str)
       {
            in >> str._str;
            return  in;
       }
    private:
        char* _str;
};



int main()
{
    String str("abc");
    String test;
    cin >> test;
    cout << test << endl;
    cout << str<<endl;
    return 0;
} */


namespace bite
{
        class string
        {
                public:
                            typedef char* iterator;

                                public:
                                    string(const char* str = "")
                                    {
                                                    if (nullptr == str)
                                                                        str = "";

                                                                _capacity = strlen(str);
                                                                            _size = _capacity;
                                                                                        _str = new char[_capacity + 1];
                                                                                                    strcpy(_str, str);
                                                                                                            
                                    }

                                            string(const string& s)
                                                            : _str(nullptr)
                                                                        , _capacity(0)
                                                                        , _size(0)
            {
                            string strTemp(s._str);
                                        this->swap(strTemp);
                                                
            }

                                                    string(size_t n, char ch = char())
                                                                    : _str(new char[n+1])
                                                                                , _capacity(n)
                                                                                , _size(n)
            {
                            memset(_str, ch, n);
                                        _str[n] = '\0';
                                                
            }

                                                            string& operator=(string& s)
                                                            {
                                                                            swap(s);
                                                                                        return *this;
                                                                                                
                                                            }

                                                                    ~string()
                                                                    {
                                                                                    if (_str)
                                                                                    {
                                                                                                        delete[] _str;
                                                                                                                        _str = nullptr;
                                                                                                                                        _capacity = 0;
                                                                                                                                                        _size = 0;
                                                                                                                                                                    
                                                                                    }
                                                                                            
                                                                    }

                                                                            //////////////////////////////////////
                                                                            //      iterator begin()
                                                                            //              {
                                                                            //                          return _str;
                                                                            //                                  }
                                                                            //
                                                                            //                                          iterator end()
                                                                            //                                                  {
                                                                            //                                                              return _str + size();
                                                                            //                                                                      }
                                                                            //
                                                                            //                                                                              /////////////////capacity/////////////////////
                                                                            //                                                                                      size_t size()const
                                                                            //                                                                                              {
                                                                            //                                                                                                          return _size;
                                                                            //                                                                                                                  }
                                                                            //
                                                                            //                                                                                                                          size_t capacity()const
                                                                            //                                                                                                                                  {
                                                                            //                                                                                                                                              return _capacity;
                                                                            //                                                                                                                                                      }
                                                                            //
                                                                            //                                                                                                                                                              bool empty()const
                                                                            //                                                                                                                                                                      {
                                                                            //                                                                                                                                                                                  return 0 == _size;
                                                                            //                                                                                                                                                                                          }
                                                                            //
                                                                            //                                                                                                                                                                                                  void clear()
                                                                            //                                                                                                                                                                                                          {
                                                                            //                                                                                                                                                                                                                      _str[0] = '\0';
                                                                            //                                                                                                                                                                                                                                  _size = 0;
                                                                            //                                                                                                                                                                                                                                          }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                  void resize(size_t newsize, char ch)
                                                                            //                                                                                                                                                                                                                                                          {
                                                                            //                                                                                                                                                                                                                                                                      size_t oldsize = _size;
                                                                            //                                                                                                                                                                                                                                                                                  if (newsize > oldsize)
                                                                            //                                                                                                                                                                                                                                                                                              {
                                                                            //                                                                                                                                                                                                                                                                                                              if (newsize > _capacity)
                                                                            //                                                                                                                                                                                                                                                                                                                              {
                                                                            //                                                                                                                                                                                                                                                                                                                                                  reserve(_capacity * 2);
                                                                            //                                                                                                                                                                                                                                                                                                                                                                  }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                  // 多出的位置需要使用ch进行填充
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                  memset(_str + oldsize, newsize - oldsize, ch);
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                          _str[newsize] = '\0';
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                      _size = newsize;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                      void reserve(size_t newcapacity)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                              {
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                          if (newcapacity > capacity())
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      {
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      char* temp = new char[newcapacity + 1];
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      strcpy(temp, _str);
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      delete[] _str;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      _str = temp;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      _capacity = newcapacity;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  //////acess////////////////////////////////
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          char& operator[](size_t index)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  {
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              assert(index < _size);
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          return _str[index];
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          const char& operator[](size_t index)const
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  {
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              assert(index < _size);
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          return _str[index];
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          //////////////////////////////////////
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  string& operator+=(char ch)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          {
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      if (_size == _capacity)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      reserve(_capacity * 2);
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  _str[_size++] = ch;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              _str[_size] = '\0';
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          return *this;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          string& operator+=(const char* str)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  {
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              ////
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          return *this;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          string& operator+=(const string& s)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  {
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              *this += s._str;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          return *this;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          void push_back(char ch)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  {
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              *this += ch;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              string& append(const string& s)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      {
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  *this += s;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              return *this;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              //////////////////////////////////////
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      void swap(string& s)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              {
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          std::swap(_str, s._str);
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      std::swap(_capacity, s._capacity);
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  std::swap(_size, s._size);
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  //////////////////////////////////////
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          const char* c_str()const
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  {
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              return _str;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              size_t find(char ch, size_t pos = 0)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      {
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  if (pos >= _size)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  return npos;
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              for (size_t index = pos; index < _size; ++index)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          {
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          if (_str[index] == ch)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              return index;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      return npos;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      size_t rfind(char ch, size_t pos = npos)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              {
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          if (pos == npos)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          pos = _size-1;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  for (int index = pos; index >= 0; --index)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              {
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              if (_str[index] == ch)
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  return index;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          return npos;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      private:
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              char* _str;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      size_t _size;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              size_t _capacity;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      static size_t npos;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          };
                                                                            //
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              size_t string::npos = -1;
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                            //                                                                                                                                                                                                                                                                                                                                                                                                                                                              }
                                                                            //                                                                                                                                                                                                                                                                                                                              }
                                                                            //                                                                                                                                                                                                                                                                                              }
                                                                            //                                                                                                                                                                                                                                                          }
                                                                            //                                                                                                                                                                                                          }
                                                                            //                                                                                                                                                                      }
                                                                            //                                                                                                                                  }
                                                                            //                                                                                              }
                                                                            //                                                  }
                                                                            //              }
        }
}


